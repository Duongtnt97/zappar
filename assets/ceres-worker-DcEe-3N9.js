(function(){function e(e){return{worker_message_send_count:e.cwrap(`worker_message_send_count`,`number`,[]),worker_message_send_clear:e.cwrap(`worker_message_send_clear`,null,[]),worker_message_send_data_size:e.cwrap(`worker_message_send_data_size`,`number`,[`number`]),worker_message_send_data:e.cwrap(`worker_message_send_data`,`number`,[`number`]),worker_message_send_reference:e.cwrap(`worker_message_send_reference`,`number`,[`number`]),worker_message_send_instance:e.cwrap(`worker_message_send_instance`,`number`,[`number`]),worker_message_receive:e.cwrap(`worker_message_receive`,null,[`number`,`number`,`number`,`number`])}}var t=(()=>{var e=typeof document<`u`&&document.currentScript?document.currentScript.src:void 0;return(function(t={}){var n=t,r,i;n.ready=new Promise((e,t)=>{r=e,i=t});var a=Object.assign({},n),o=`./this.program`,s=(e,t)=>{throw t},c=!1,l=!0,u=``;function d(e){return n.locateFile?n.locateFile(e,u):u+e}var f,p,m;(c||l)&&(l?u=self.location.href:typeof document<`u`&&document.currentScript&&(u=document.currentScript.src),e&&(u=e),u=u.startsWith(`blob:`)?``:u.substr(0,u.replace(/[?#].*/,``).lastIndexOf(`/`)+1),f=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.send(null),t.responseText},l&&(m=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}),p=(e,t,n)=>{var r=new XMLHttpRequest;r.open(`GET`,e,!0),r.responseType=`arraybuffer`,r.onload=()=>{if(r.status==200||r.status==0&&r.response){t(r.response);return}n()},r.onerror=n,r.send(null)});var h=n.print||console.log.bind(console),g=n.printErr||console.error.bind(console);Object.assign(n,a),a=null,n.arguments&&n.arguments,n.thisProgram&&(o=n.thisProgram),n.quit&&(s=n.quit);var _;n.wasmBinary&&(_=n.wasmBinary),typeof WebAssembly!=`object`&&N(`no native wasm support detected`);var v,y=!1,b;function x(e,t){e||N(t)}var S,C,w,T,E,D,O,ee;function te(){var e=v.buffer;n.HEAP8=S=new Int8Array(e),n.HEAP16=w=new Int16Array(e),n.HEAPU8=C=new Uint8Array(e),n.HEAPU16=T=new Uint16Array(e),n.HEAP32=E=new Int32Array(e),n.HEAPU32=D=new Uint32Array(e),n.HEAPF32=O=new Float32Array(e),n.HEAPF64=ee=new Float64Array(e)}var k=[],ne=[],re=[],ie=!1;function ae(){if(n.preRun)for(typeof n.preRun==`function`&&(n.preRun=[n.preRun]);n.preRun.length;)ce(n.preRun.shift());we(k)}function oe(){ie=!0,!n.noFSInit&&!H.init.initialized&&H.init(),H.ignorePermissions=!1,B.init(),we(ne)}function se(){if(n.postRun)for(typeof n.postRun==`function`&&(n.postRun=[n.postRun]);n.postRun.length;)ue(n.postRun.shift());we(re)}function ce(e){k.unshift(e)}function le(e){ne.unshift(e)}function ue(e){re.unshift(e)}var A=0,de=null,j=null;function fe(e){return e}function pe(e){A++,n.monitorRunDependencies?.(A)}function M(e){if(A--,n.monitorRunDependencies?.(A),A==0&&(de!==null&&(clearInterval(de),de=null),j)){var t=j;j=null,t()}}function N(e){n.onAbort?.(e),e=`Aborted(`+e+`)`,g(e),y=!0,b=1,e+=`. Build with -sASSERTIONS for more info.`,ie&&An();var t=new WebAssembly.RuntimeError(e);throw i(t),t}var me=`data:application/octet-stream;base64,`,he=e=>e.startsWith(me),ge=`zappar-cv.wasm`;he(ge)||(ge=d(ge));function _e(e){if(e==ge&&_)return new Uint8Array(_);if(m)return m(e);throw`sync fetching of the wasm failed: you can preload it to Module["wasmBinary"] manually, or emcc.py will do that for you when generating HTML (but not JS)`}function ve(e,t){var n,r=_e(e);return n=new WebAssembly.Module(r),[new WebAssembly.Instance(n,t),n]}function ye(){var e={a:Dn};function t(e,t){return $=e.exports,v=$.L,te(),St=$.Q,le($.M),M(`wasm-instantiate`),$}if(pe(`wasm-instantiate`),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){g(`Module.instantiateWasm callback failed with error: ${e}`),i(e)}return t(ve(ge,e)[0])}var P,F;function be(){var e=new URL(location.origin).hostname;if(e.length===0&&(e=new URL(location.href.replace(`blob:`,``)).hostname),/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))e.indexOf(`10.`)===0&&(e=`10.*`),e.indexOf(`192.168.`)===0&&(e=`192.168.*`),e.indexOf(`172.`)===0&&(e=`172.*`),e.indexOf(`127.`)===0&&(e=`127.*`);else{var t=RegExp(`(\\.ngrok\\.io)$`,`i`);t.test(e)&&(e=`*.ngrok.io`),t=RegExp(`(\\.ngrok-free\\.app)$`,`i`),t.test(e)&&(e=`*.ngrok.io`),t=RegExp(`(\\.arweb\\.app)$`,`i`),t.test(e)&&(e=`*.arweb.app`)}var n=z(e)+1,r=kn(n);return G(e,r,n+1),r}function xe(){self.postMessage({t:`licerr`})}function Se(){self.postMessage({t:`gfx`})}function Ce(e){this.name=`ExitStatus`,this.message=`Program terminated with exit(${e})`,this.status=e}var we=e=>{for(;e.length>0;)e.shift()(n)};function Te(e,t=`i8`){switch(t.endsWith(`*`)&&(t=`*`),t){case`i1`:return S[e>>0];case`i8`:return S[e>>0];case`i16`:return w[e>>1];case`i32`:return E[e>>2];case`i64`:N(`to do getValue(i64) use WASM_BIGINT`);case`float`:return O[e>>2];case`double`:return ee[e>>3];case`*`:return D[e>>2];default:N(`invalid type for getValue: ${t}`)}}var Ee=n.noExitRuntime||!0;function De(e,t,n=`i8`){switch(n.endsWith(`*`)&&(n=`*`),n){case`i1`:S[e>>0]=t;break;case`i8`:S[e>>0]=t;break;case`i16`:w[e>>1]=t;break;case`i32`:E[e>>2]=t;break;case`i64`:N(`to do setValue(i64) use WASM_BIGINT`);case`float`:O[e>>2]=t;break;case`double`:ee[e>>3]=t;break;case`*`:D[e>>2]=t;break;default:N(`invalid type for setValue: ${n}`)}}var I={isAbs:e=>e.charAt(0)===`/`,splitPath:e=>/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1),normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];i===`.`?e.splice(r,1):i===`..`?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift(`..`);return e},normalize:e=>{var t=I.isAbs(e),n=e.substr(-1)===`/`;return e=I.normalizeArray(e.split(`/`).filter(e=>!!e),!t).join(`/`),!e&&!t&&(e=`.`),e&&n&&(e+=`/`),(t?`/`:``)+e},dirname:e=>{var t=I.splitPath(e),n=t[0],r=t[1];return!n&&!r?`.`:(r&&=r.substr(0,r.length-1),n+r)},basename:e=>{if(e===`/`)return`/`;e=I.normalize(e),e=e.replace(/\/$/,``);var t=e.lastIndexOf(`/`);return t===-1?e:e.substr(t+1)},join:function(){var e=Array.prototype.slice.call(arguments);return I.normalize(e.join(`/`))},join2:(e,t)=>I.normalize(e+`/`+t)},Oe=()=>{if(typeof crypto==`object`&&typeof crypto.getRandomValues==`function`)return e=>crypto.getRandomValues(e);N(`initRandomDevice`)},ke=e=>(ke=Oe())(e),L={resolve:function(){for(var e=``,t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?arguments[n]:H.cwd();if(typeof r!=`string`)throw TypeError(`Arguments to path.resolve must be strings`);if(!r)return``;e=r+`/`+e,t=I.isAbs(r)}return e=I.normalizeArray(e.split(`/`).filter(e=>!!e),!t).join(`/`),(t?`/`:``)+e||`.`},relative:(e,t)=>{e=L.resolve(e).substr(1),t=L.resolve(t).substr(1);function n(e){for(var t=0;t<e.length&&e[t]===``;t++);for(var n=e.length-1;n>=0&&e[n]===``;n--);return t>n?[]:e.slice(t,n-t+1)}for(var r=n(e.split(`/`)),i=n(t.split(`/`)),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var c=[],s=o;s<r.length;s++)c.push(`..`);return c=c.concat(i.slice(o)),c.join(`/`)}},Ae=typeof TextDecoder<`u`?new TextDecoder(`utf8`):void 0,R=(e,t,n)=>{for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&Ae)return Ae.decode(e.subarray(t,i));for(var a=``;t<i;){var o=e[t++];if(!(o&128)){a+=String.fromCharCode(o);continue}var s=e[t++]&63;if((o&224)==192){a+=String.fromCharCode((o&31)<<6|s);continue}var c=e[t++]&63;if(o=(o&240)==224?(o&15)<<12|s<<6|c:(o&7)<<18|s<<12|c<<6|e[t++]&63,o<65536)a+=String.fromCharCode(o);else{var l=o-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return a},je=[],z=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},Me=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i};function Ne(e,t,n){var r=n>0?n:z(e)+1,i=Array(r),a=Me(e,i,0,i.length);return t&&(i.length=a),i}var Pe=()=>{if(!je.length){var e=null;if(typeof window<`u`&&typeof window.prompt==`function`?(e=window.prompt(`Input: `),e!==null&&(e+=`
`)):typeof readline==`function`&&(e=readline(),e!==null&&(e+=`
`)),!e)return null;je=Ne(e,!0)}return je.shift()},B={ttys:[],init(){},shutdown(){},register(e,t){B.ttys[e]={input:[],output:[],ops:t},H.registerDevice(e,B.stream_ops)},stream_ops:{open(e){var t=B.ttys[e.node.rdev];if(!t)throw new H.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new H.ErrnoError(60);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch{throw new H.ErrnoError(29)}if(s===void 0&&a===0)throw new H.ErrnoError(6);if(s==null)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch{throw new H.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char(e){return Pe()},put_char(e,t){t===null||t===10?(h(R(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(h(R(e.output,0)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,n){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(g(R(e.output,0)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(g(R(e.output,0)),e.output=[])}}},Fe=e=>{N()},V={ops_table:null,mount(e){return V.createNode(null,`/`,16895,0)},createNode(e,t,n,r){if(H.isBlkdev(n)||H.isFIFO(n))throw new H.ErrnoError(63);V.ops_table||={dir:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,lookup:V.node_ops.lookup,mknod:V.node_ops.mknod,rename:V.node_ops.rename,unlink:V.node_ops.unlink,rmdir:V.node_ops.rmdir,readdir:V.node_ops.readdir,symlink:V.node_ops.symlink},stream:{llseek:V.stream_ops.llseek}},file:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:{llseek:V.stream_ops.llseek,read:V.stream_ops.read,write:V.stream_ops.write,allocate:V.stream_ops.allocate,mmap:V.stream_ops.mmap,msync:V.stream_ops.msync}},link:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr,readlink:V.node_ops.readlink},stream:{}},chrdev:{node:{getattr:V.node_ops.getattr,setattr:V.node_ops.setattr},stream:H.chrdev_stream_ops}};var i=H.createNode(e,t,n,r);return H.isDir(i.mode)?(i.node_ops=V.ops_table.dir.node,i.stream_ops=V.ops_table.dir.stream,i.contents={}):H.isFile(i.mode)?(i.node_ops=V.ops_table.file.node,i.stream_ops=V.ops_table.file.stream,i.usedBytes=0,i.contents=null):H.isLink(i.mode)?(i.node_ops=V.ops_table.link.node,i.stream_ops=V.ops_table.link.stream):H.isChrdev(i.mode)&&(i.node_ops=V.ops_table.chrdev.node,i.stream_ops=V.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){t=Math.max(t,n*(n<1024*1024?2:1.125)>>>0),n!=0&&(t=Math.max(t,256));var r=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(r.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=H.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,H.isDir(e.mode)?t.size=4096:H.isFile(e.mode)?t.size=e.usedBytes:H.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&V.resizeFileStorage(e,t.size)},lookup(e,t){throw H.genericErrors[44]},mknod(e,t,n,r){return V.createNode(e,t,n,r)},rename(e,t,n){if(H.isDir(e.mode)){var r;try{r=H.lookupNode(t,n)}catch{}if(r)for(var i in r.contents)throw new H.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){for(var n in H.lookupNode(e,t).contents)throw new H.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[`.`,`..`];for(var n of Object.keys(e.contents))t.push(n);return t},symlink(e,t,n){var r=V.createNode(e,t,41471,0);return r.link=n,r},readlink(e){if(!H.isLink(e.mode))throw new H.ErrnoError(28);return e.link}},stream_ops:{read(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write(e,t,n,r,i,a){if(t.buffer===S.buffer&&(a=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(o.usedBytes===0&&i===0)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(V.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek(e,t,n){var r=t;if(n===1?r+=e.position:n===2&&H.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new H.ErrnoError(28);return r},allocate(e,t,n){V.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap(e,t,n,r,i){if(!H.isFile(e.node.mode))throw new H.ErrnoError(43);var a,o,s=e.node.contents;if(!(i&2)&&s.buffer===S.buffer)o=!1,a=s.byteOffset;else{if((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),o=!0,a=Fe(t),!a)throw new H.ErrnoError(48);S.set(s,a)}return{ptr:a,allocated:o}},msync(e,t,n,r,i){return V.stream_ops.write(e,t,0,r,n,!1),0}}},Ie=(e,t,n,r)=>{var i=r?``:fe(`al ${e}`);p(e,e=>{t(new Uint8Array(e)),i&&M(i)},t=>{if(n)n();else throw`Loading data file "${e}" failed.`}),i&&pe(i)},Le=(e,t,n,r,i,a)=>{H.createDataFile(e,t,n,r,i,a)},Re=n.preloadPlugins||[],ze=(e,t,n,r)=>{q!==void 0&&q.init();var i=!1;return Re.forEach(a=>{i||a.canHandle(t)&&(a.handle(e,t,n,r),i=!0)}),i},Be=(e,t,n,r,i,a,o,s,c,l)=>{var u=t?L.resolve(I.join2(e,t)):e,d=fe(`cp ${u}`);function f(n){function f(n){l?.(),s||Le(e,t,n,r,i,c),a?.(),M(d)}ze(n,u,f,()=>{o?.(),M(d)})||f(n)}pe(d),typeof n==`string`?Ie(n,f,o):f(n)},Ve=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[e];if(t===void 0)throw Error(`Unknown file open mode: ${e}`);return t},He=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:`/`,initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name=`ErrnoError`,this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(e,t={}){if(e=L.resolve(e),!e)return{path:``,node:null};if(t=Object.assign({follow_mount:!0,recurse_count:0},t),t.recurse_count>8)throw new H.ErrnoError(32);for(var n=e.split(`/`).filter(e=>!!e),r=H.root,i=`/`,a=0;a<n.length;a++){var o=a===n.length-1;if(o&&t.parent)break;if(r=H.lookupNode(r,n[a]),i=I.join2(i,n[a]),H.isMountpoint(r)&&(!o||o&&t.follow_mount)&&(r=r.mounted.root),!o||t.follow)for(var s=0;H.isLink(r.mode);){var c=H.readlink(i);if(i=L.resolve(I.dirname(i),c),r=H.lookupPath(i,{recurse_count:t.recurse_count+1}).node,s++>40)throw new H.ErrnoError(32)}}return{path:i,node:r}},getPath(e){for(var t;;){if(H.isRoot(e)){var n=e.mount.mountpoint;return t?n[n.length-1]===`/`?n+t:`${n}/${t}`:n}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%H.nameTable.length},hashAddNode(e){var t=H.hashName(e.parent.id,e.name);e.name_next=H.nameTable[t],H.nameTable[t]=e},hashRemoveNode(e){var t=H.hashName(e.parent.id,e.name);if(H.nameTable[t]===e)H.nameTable[t]=e.name_next;else for(var n=H.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode(e,t){var n=H.mayLookup(e);if(n)throw new H.ErrnoError(n);for(var r=H.hashName(e.id,t),i=H.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return H.lookup(e,t)},createNode(e,t,n,r){var i=new H.FSNode(e,t,n,r);return H.hashAddNode(i),i},destroyNode(e){H.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)==32768},isDir(e){return(e&61440)==16384},isLink(e){return(e&61440)==40960},isChrdev(e){return(e&61440)==8192},isBlkdev(e){return(e&61440)==24576},isFIFO(e){return(e&61440)==4096},isSocket(e){return(e&49152)==49152},flagsToPermissionString(e){var t=[`r`,`w`,`rw`][e&3];return e&512&&(t+=`w`),t},nodePermissions(e,t){return H.ignorePermissions?0:t.includes(`r`)&&!(e.mode&292)||t.includes(`w`)&&!(e.mode&146)||t.includes(`x`)&&!(e.mode&73)?2:0},mayLookup(e){return H.isDir(e.mode)?H.nodePermissions(e,`x`)||(e.node_ops.lookup?0:2):54},mayCreate(e,t){try{return H.lookupNode(e,t),20}catch{}return H.nodePermissions(e,`wx`)},mayDelete(e,t,n){var r;try{r=H.lookupNode(e,t)}catch(e){return e.errno}var i=H.nodePermissions(e,`wx`);if(i)return i;if(n){if(!H.isDir(r.mode))return 54;if(H.isRoot(r)||H.getPath(r)===H.cwd())return 10}else if(H.isDir(r.mode))return 31;return 0},mayOpen(e,t){return e?H.isLink(e.mode)?32:H.isDir(e.mode)&&(H.flagsToPermissionString(t)!==`r`||t&512)?31:H.nodePermissions(e,H.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=H.MAX_OPEN_FDS;e++)if(!H.streams[e])return e;throw new H.ErrnoError(33)},getStreamChecked(e){var t=H.getStream(e);if(!t)throw new H.ErrnoError(8);return t},getStream:e=>H.streams[e],createStream(e,t=-1){return H.FSStream||(H.FSStream=function(){this.shared={}},H.FSStream.prototype={},Object.defineProperties(H.FSStream.prototype,{object:{get(){return this.node},set(e){this.node=e}},isRead:{get(){return(this.flags&2097155)!=1}},isWrite:{get(){return(this.flags&2097155)!=0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(e){this.shared.flags=e}},position:{get(){return this.shared.position},set(e){this.shared.position=e}}})),e=Object.assign(new H.FSStream,e),t==-1&&(t=H.nextfd()),e.fd=t,H.streams[t]=e,e},closeStream(e){H.streams[e]=null},chrdev_stream_ops:{open(e){e.stream_ops=H.getDevice(e.node.rdev).stream_ops,e.stream_ops.open?.(e)},llseek(){throw new H.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){H.devices[e]={stream_ops:t}},getDevice:e=>H.devices[e],getMounts(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push.apply(n,r.mounts)}return t},syncfs(e,t){typeof e==`function`&&(t=e,e=!1),H.syncFSRequests++,H.syncFSRequests>1&&g(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var n=H.getMounts(H.root.mount),r=0;function i(e){return H.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach(t=>{if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)})},mount(e,t,n){var r=n===`/`,i=!n,a;if(r&&H.root)throw new H.ErrnoError(10);if(!r&&!i){var o=H.lookupPath(n,{follow_mount:!1});if(n=o.path,a=o.node,H.isMountpoint(a))throw new H.ErrnoError(10);if(!H.isDir(a.mode))throw new H.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,r?H.root=c:a&&(a.mounted=s,a.mount&&a.mount.mounts.push(s)),c},unmount(e){var t=H.lookupPath(e,{follow_mount:!1});if(!H.isMountpoint(t.node))throw new H.ErrnoError(28);var n=t.node,r=n.mounted,i=H.getMounts(r);Object.keys(H.nameTable).forEach(e=>{for(var t=H.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&H.destroyNode(t),t=n}}),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,n){var r=H.lookupPath(e,{parent:!0}).node,i=I.basename(e);if(!i||i===`.`||i===`..`)throw new H.ErrnoError(28);var a=H.mayCreate(r,i);if(a)throw new H.ErrnoError(a);if(!r.node_ops.mknod)throw new H.ErrnoError(63);return r.node_ops.mknod(r,i,t,n)},create(e,t){return t=t===void 0?438:t,t&=4095,t|=32768,H.mknod(e,t,0)},mkdir(e,t){return t=t===void 0?511:t,t&=1023,t|=16384,H.mknod(e,t,0)},mkdirTree(e,t){for(var n=e.split(`/`),r=``,i=0;i<n.length;++i)if(n[i]){r+=`/`+n[i];try{H.mkdir(r,t)}catch(e){if(e.errno!=20)throw e}}},mkdev(e,t,n){return n===void 0&&(n=t,t=438),t|=8192,H.mknod(e,t,n)},symlink(e,t){if(!L.resolve(e))throw new H.ErrnoError(44);var n=H.lookupPath(t,{parent:!0}).node;if(!n)throw new H.ErrnoError(44);var r=I.basename(t),i=H.mayCreate(n,r);if(i)throw new H.ErrnoError(i);if(!n.node_ops.symlink)throw new H.ErrnoError(63);return n.node_ops.symlink(n,r,e)},rename(e,t){var n=I.dirname(e),r=I.dirname(t),i=I.basename(e),a=I.basename(t),o=H.lookupPath(e,{parent:!0}),s=o.node,c;if(o=H.lookupPath(t,{parent:!0}),c=o.node,!s||!c)throw new H.ErrnoError(44);if(s.mount!==c.mount)throw new H.ErrnoError(75);var l=H.lookupNode(s,i),u=L.relative(e,r);if(u.charAt(0)!==`.`)throw new H.ErrnoError(28);if(u=L.relative(t,n),u.charAt(0)!==`.`)throw new H.ErrnoError(55);var d;try{d=H.lookupNode(c,a)}catch{}if(l!==d){var f=H.isDir(l.mode),p=H.mayDelete(s,i,f);if(p||(p=d?H.mayDelete(c,a,f):H.mayCreate(c,a),p))throw new H.ErrnoError(p);if(!s.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(l)||d&&H.isMountpoint(d))throw new H.ErrnoError(10);if(c!==s&&(p=H.nodePermissions(s,`w`),p))throw new H.ErrnoError(p);H.hashRemoveNode(l);try{s.node_ops.rename(l,c,a)}catch(e){throw e}finally{H.hashAddNode(l)}}},rmdir(e){var t=H.lookupPath(e,{parent:!0}).node,n=I.basename(e),r=H.lookupNode(t,n),i=H.mayDelete(t,n,!0);if(i)throw new H.ErrnoError(i);if(!t.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(r))throw new H.ErrnoError(10);t.node_ops.rmdir(t,n),H.destroyNode(r)},readdir(e){var t=H.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new H.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var t=H.lookupPath(e,{parent:!0}).node;if(!t)throw new H.ErrnoError(44);var n=I.basename(e),r=H.lookupNode(t,n),i=H.mayDelete(t,n,!1);if(i)throw new H.ErrnoError(i);if(!t.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(r))throw new H.ErrnoError(10);t.node_ops.unlink(t,n),H.destroyNode(r)},readlink(e){var t=H.lookupPath(e).node;if(!t)throw new H.ErrnoError(44);if(!t.node_ops.readlink)throw new H.ErrnoError(28);return L.resolve(H.getPath(t.parent),t.node_ops.readlink(t))},stat(e,t){var n=H.lookupPath(e,{follow:!t}).node;if(!n)throw new H.ErrnoError(44);if(!n.node_ops.getattr)throw new H.ErrnoError(63);return n.node_ops.getattr(n)},lstat(e){return H.stat(e,!0)},chmod(e,t,n){var r=typeof e==`string`?H.lookupPath(e,{follow:!n}).node:e;if(!r.node_ops.setattr)throw new H.ErrnoError(63);r.node_ops.setattr(r,{mode:t&4095|r.mode&-4096,timestamp:Date.now()})},lchmod(e,t){H.chmod(e,t,!0)},fchmod(e,t){var n=H.getStreamChecked(e);H.chmod(n.node,t)},chown(e,t,n,r){var i=typeof e==`string`?H.lookupPath(e,{follow:!r}).node:e;if(!i.node_ops.setattr)throw new H.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown(e,t,n){H.chown(e,t,n,!0)},fchown(e,t,n){var r=H.getStreamChecked(e);H.chown(r.node,t,n)},truncate(e,t){if(t<0)throw new H.ErrnoError(28);var n=typeof e==`string`?H.lookupPath(e,{follow:!0}).node:e;if(!n.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(n.mode))throw new H.ErrnoError(31);if(!H.isFile(n.mode))throw new H.ErrnoError(28);var r=H.nodePermissions(n,`w`);if(r)throw new H.ErrnoError(r);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate(e,t){var n=H.getStreamChecked(e);if(!(n.flags&2097155))throw new H.ErrnoError(28);H.truncate(n.node,t)},utime(e,t,n){var r=H.lookupPath(e,{follow:!0}).node;r.node_ops.setattr(r,{timestamp:Math.max(t,n)})},open(e,t,r){if(e===``)throw new H.ErrnoError(44);t=typeof t==`string`?Ve(t):t,r=r===void 0?438:r,r=t&64?r&4095|32768:0;var i;if(typeof e==`object`)i=e;else{e=I.normalize(e);try{i=H.lookupPath(e,{follow:!(t&131072)}).node}catch{}}var a=!1;if(t&64)if(i){if(t&128)throw new H.ErrnoError(20)}else i=H.mknod(e,r,0),a=!0;if(!i)throw new H.ErrnoError(44);if(H.isChrdev(i.mode)&&(t&=-513),t&65536&&!H.isDir(i.mode))throw new H.ErrnoError(54);if(!a){var o=H.mayOpen(i,t);if(o)throw new H.ErrnoError(o)}t&512&&!a&&H.truncate(i,0),t&=-131713;var s=H.createStream({node:i,path:H.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return s.stream_ops.open&&s.stream_ops.open(s),n.logReadFiles&&!(t&1)&&(H.readFiles||={},e in H.readFiles||(H.readFiles[e]=1)),s},close(e){if(H.isClosed(e))throw new H.ErrnoError(8);e.getdents&&=null;try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{H.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,n){if(H.isClosed(e))throw new H.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new H.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new H.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read(e,t,n,r,i){if(r<0||i<0)throw new H.ErrnoError(28);if(H.isClosed(e)||(e.flags&2097155)==1)throw new H.ErrnoError(8);if(H.isDir(e.node.mode))throw new H.ErrnoError(31);if(!e.stream_ops.read)throw new H.ErrnoError(28);var a=i!==void 0;if(!a)i=e.position;else if(!e.seekable)throw new H.ErrnoError(70);var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write(e,t,n,r,i,a){if(r<0||i<0)throw new H.ErrnoError(28);if(H.isClosed(e)||!(e.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(e.node.mode))throw new H.ErrnoError(31);if(!e.stream_ops.write)throw new H.ErrnoError(28);e.seekable&&e.flags&1024&&H.llseek(e,0,2);var o=i!==void 0;if(!o)i=e.position;else if(!e.seekable)throw new H.ErrnoError(70);var s=e.stream_ops.write(e,t,n,r,i,a);return o||(e.position+=s),s},allocate(e,t,n){if(H.isClosed(e))throw new H.ErrnoError(8);if(t<0||n<=0)throw new H.ErrnoError(28);if(!(e.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(e.node.mode)&&!H.isDir(e.node.mode))throw new H.ErrnoError(43);if(!e.stream_ops.allocate)throw new H.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap(e,t,n,r,i){if(r&2&&!(i&2)&&(e.flags&2097155)!=2||(e.flags&2097155)==1)throw new H.ErrnoError(2);if(!e.stream_ops.mmap)throw new H.ErrnoError(43);return e.stream_ops.mmap(e,t,n,r,i)},msync(e,t,n,r,i){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},munmap:e=>0,ioctl(e,t,n){if(!e.stream_ops.ioctl)throw new H.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||`binary`,t.encoding!==`utf8`&&t.encoding!==`binary`)throw Error(`Invalid encoding type "${t.encoding}"`);var n,r=H.open(e,t.flags),i=H.stat(e).size,a=new Uint8Array(i);return H.read(r,a,0,i,0),t.encoding===`utf8`?n=R(a,0):t.encoding===`binary`&&(n=a),H.close(r),n},writeFile(e,t,n={}){n.flags=n.flags||577;var r=H.open(e,n.flags,n.mode);if(typeof t==`string`){var i=new Uint8Array(z(t)+1),a=Me(t,i,0,i.length);H.write(r,i,0,a,void 0,n.canOwn)}else if(ArrayBuffer.isView(t))H.write(r,t,0,t.byteLength,void 0,n.canOwn);else throw Error(`Unsupported data type`);H.close(r)},cwd:()=>H.currentPath,chdir(e){var t=H.lookupPath(e,{follow:!0});if(t.node===null)throw new H.ErrnoError(44);if(!H.isDir(t.node.mode))throw new H.ErrnoError(54);var n=H.nodePermissions(t.node,`x`);if(n)throw new H.ErrnoError(n);H.currentPath=t.path},createDefaultDirectories(){H.mkdir(`/tmp`),H.mkdir(`/home`),H.mkdir(`/home/web_user`)},createDefaultDevices(){H.mkdir(`/dev`),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(e,t,n,r,i)=>r}),H.mkdev(`/dev/null`,H.makedev(1,3)),B.register(H.makedev(5,0),B.default_tty_ops),B.register(H.makedev(6,0),B.default_tty1_ops),H.mkdev(`/dev/tty`,H.makedev(5,0)),H.mkdev(`/dev/tty1`,H.makedev(6,0));var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=ke(e).byteLength),e[--t]);H.createDevice(`/dev`,`random`,n),H.createDevice(`/dev`,`urandom`,n),H.mkdir(`/dev/shm`),H.mkdir(`/dev/shm/tmp`)},createSpecialDirectories(){H.mkdir(`/proc`);var e=H.mkdir(`/proc/self`);H.mkdir(`/proc/self/fd`),H.mount({mount(){var t=H.createNode(e,`fd`,16895,73);return t.node_ops={lookup(e,t){var n=+t,r=H.getStreamChecked(n),i={parent:null,mount:{mountpoint:`fake`},node_ops:{readlink:()=>r.path}};return i.parent=i,i}},t}},{},`/proc/self/fd`)},createStandardStreams(){n.stdin?H.createDevice(`/dev`,`stdin`,n.stdin):H.symlink(`/dev/tty`,`/dev/stdin`),n.stdout?H.createDevice(`/dev`,`stdout`,null,n.stdout):H.symlink(`/dev/tty`,`/dev/stdout`),n.stderr?H.createDevice(`/dev`,`stderr`,null,n.stderr):H.symlink(`/dev/tty1`,`/dev/stderr`),H.open(`/dev/stdin`,0),H.open(`/dev/stdout`,1),H.open(`/dev/stderr`,1)},staticInit(){[44].forEach(e=>{H.genericErrors[e]=new H.ErrnoError(e),H.genericErrors[e].stack=`<generic error, no stack>`}),H.nameTable=Array(4096),H.mount(V,{},`/`),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:V}},init(e,t,r){H.init.initialized=!0,n.stdin=e||n.stdin,n.stdout=t||n.stdout,n.stderr=r||n.stderr,H.createStandardStreams()},quit(){H.init.initialized=!1;for(var e=0;e<H.streams.length;e++){var t=H.streams[e];t&&H.close(t)}},findObject(e,t){var n=H.analyzePath(e,t);return n.exists?n.object:null},analyzePath(e,t){try{var n=H.lookupPath(e,{follow:!t});e=n.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=H.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=I.basename(e),n=H.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot=n.path===`/`}catch(e){r.error=e.errno}return r},createPath(e,t,n,r){e=typeof e==`string`?e:H.getPath(e);for(var i=t.split(`/`).reverse();i.length;){var a=i.pop();if(a){var o=I.join2(e,a);try{H.mkdir(o)}catch{}e=o}}return o},createFile(e,t,n,r,i){var a=I.join2(typeof e==`string`?e:H.getPath(e),t),o=He(r,i);return H.create(a,o)},createDataFile(e,t,n,r,i,a){var o=t;e&&(e=typeof e==`string`?e:H.getPath(e),o=t?I.join2(e,t):e);var s=He(r,i),c=H.create(o,s);if(n){if(typeof n==`string`){for(var l=Array(n.length),u=0,d=n.length;u<d;++u)l[u]=n.charCodeAt(u);n=l}H.chmod(c,s|146);var f=H.open(c,577);H.write(f,n,0,n.length,0,a),H.close(f),H.chmod(c,s)}},createDevice(e,t,n,r){var i=I.join2(typeof e==`string`?e:H.getPath(e),t),a=He(!!n,!!r);H.createDevice.major||(H.createDevice.major=64);var o=H.makedev(H.createDevice.major++,0);return H.registerDevice(o,{open(e){e.seekable=!1},close(e){r?.buffer?.length&&r(10)},read(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var c;try{c=n()}catch{throw new H.ErrnoError(29)}if(c===void 0&&o===0)throw new H.ErrnoError(6);if(c==null)break;o++,t[r+s]=c}return o&&(e.node.timestamp=Date.now()),o},write(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch{throw new H.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),H.mkdev(i,a,o)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<`u`)throw Error(`Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.`);if(f)try{e.contents=Ne(f(e.url),!0),e.usedBytes=e.contents.length}catch{throw new H.ErrnoError(29)}else throw Error(`Cannot load without read() or XMLHttpRequest.`)},createLazyFile(e,t,n,r,i){function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}},a.prototype.setDataGetter=function(e){this.getter=e},a.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open(`HEAD`,n,!1),e.send(null),!(e.status>=200&&e.status<300||e.status===304))throw Error(`Couldn't load `+n+`. Status: `+e.status);var t=Number(e.getResponseHeader(`Content-length`)),r,i=(r=e.getResponseHeader(`Accept-Ranges`))&&r===`bytes`,a=(r=e.getResponseHeader(`Content-Encoding`))&&r===`gzip`,o=1024*1024;i||(o=t);var s=(e,r)=>{if(e>r)throw Error(`invalid range (`+e+`, `+r+`) or no bytes requested!`);if(r>t-1)throw Error(`only `+t+` bytes available! programmer error!`);var i=new XMLHttpRequest;if(i.open(`GET`,n,!1),t!==o&&i.setRequestHeader(`Range`,`bytes=`+e+`-`+r),i.responseType=`arraybuffer`,i.overrideMimeType&&i.overrideMimeType(`text/plain; charset=x-user-defined`),i.send(null),!(i.status>=200&&i.status<300||i.status===304))throw Error(`Couldn't load `+n+`. Status: `+i.status);return i.response===void 0?Ne(i.responseText||``,!0):new Uint8Array(i.response||[])},c=this;c.setDataGetter(e=>{var n=e*o,r=(e+1)*o-1;if(r=Math.min(r,t-1),c.chunks[e]===void 0&&(c.chunks[e]=s(n,r)),c.chunks[e]===void 0)throw Error(`doXHR failed!`);return c.chunks[e]}),(a||!t)&&(o=t=1,t=this.getter(0).length,o=t,h(`LazyFiles on gzip forces download of the whole file when length is accessed`)),this._length=t,this._chunkSize=o,this.lengthKnown=!0},typeof XMLHttpRequest<`u`){if(!l)throw`Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc`;var o=new a;Object.defineProperties(o,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:o}}else var s={isDevice:!1,url:n};var c=H.createFile(e,t,s,r,i);s.contents?c.contents=s.contents:s.url&&(c.contents=null,c.url=s.url),Object.defineProperties(c,{usedBytes:{get:function(){return this.contents.length}}});var u={};Object.keys(c.stream_ops).forEach(e=>{var t=c.stream_ops[e];u[e]=function(){return H.forceLoadFile(c),t.apply(null,arguments)}});function d(e,t,n,r,i){var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(var s=0;s<o;s++)t[n+s]=a.get(i+s);return o}return u.read=(e,t,n,r,i)=>(H.forceLoadFile(c),d(e,t,n,r,i)),u.mmap=(e,t,n,r,i)=>{H.forceLoadFile(c);var a=Fe(t);if(!a)throw new H.ErrnoError(48);return d(e,S,a,t,n),{ptr:a,allocated:!0}},c.stream_ops=u,c}},U=(e,t)=>e?R(C,e,t):``,W={DEFAULT_POLLMASK:5,calculateAt(e,t,n){if(I.isAbs(t))return t;var r=e===-100?H.cwd():W.getStreamFromFD(e).path;if(t.length==0){if(!n)throw new H.ErrnoError(44);return r}return I.join2(r,t)},doStat(e,t,n){var r=e(t);E[n>>2]=r.dev,E[n+4>>2]=r.mode,D[n+8>>2]=r.nlink,E[n+12>>2]=r.uid,E[n+16>>2]=r.gid,E[n+20>>2]=r.rdev,F=[r.size>>>0,(P=r.size,+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[n+24>>2]=F[0],E[n+28>>2]=F[1],E[n+32>>2]=4096,E[n+36>>2]=r.blocks;var i=r.atime.getTime(),a=r.mtime.getTime(),o=r.ctime.getTime();return F=[Math.floor(i/1e3)>>>0,(P=Math.floor(i/1e3),+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[n+40>>2]=F[0],E[n+44>>2]=F[1],D[n+48>>2]=i%1e3*1e3,F=[Math.floor(a/1e3)>>>0,(P=Math.floor(a/1e3),+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[n+56>>2]=F[0],E[n+60>>2]=F[1],D[n+64>>2]=a%1e3*1e3,F=[Math.floor(o/1e3)>>>0,(P=Math.floor(o/1e3),+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[n+72>>2]=F[0],E[n+76>>2]=F[1],D[n+80>>2]=o%1e3*1e3,F=[r.ino>>>0,(P=r.ino,+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[n+88>>2]=F[0],E[n+92>>2]=F[1],0},doMsync(e,t,n,r,i){if(!H.isFile(t.node.mode))throw new H.ErrnoError(43);if(r&2)return 0;var a=C.slice(e,e+n);H.msync(t,a,i,n,r)},varargs:void 0,get(){var e=E[W.varargs>>2];return W.varargs+=4,e},getp(){return W.get()},getStr(e){return U(e)},getStreamFromFD(e){return H.getStreamChecked(e)}};function Ue(e,t,n){W.varargs=n;try{var r=W.getStreamFromFD(e);switch(t){case 0:var i=W.get();if(i<0)return-28;for(;H.streams[i];)i++;return H.createStream(r,i).fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var i=W.get();return r.flags|=i,0;case 12:var i=W.getp(),a=0;return w[i+a>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var G=(e,t,n)=>Me(e,C,t,n);function We(e,t,n){try{var r=W.getStreamFromFD(e);r.getdents||=H.readdir(r.path);for(var i=280,a=0,o=H.llseek(r,0,1),s=Math.floor(o/i);s<r.getdents.length&&a+i<=n;){var c,l,u=r.getdents[s];if(u===`.`)c=r.node.id,l=4;else if(u===`..`)c=H.lookupPath(r.path,{parent:!0}).node.id,l=4;else{var d=H.lookupNode(r.node,u);c=d.id,l=H.isChrdev(d.mode)?2:H.isDir(d.mode)?4:H.isLink(d.mode)?10:8}F=[c>>>0,(P=c,+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[t+a>>2]=F[0],E[t+a+4>>2]=F[1],F=[(s+1)*i>>>0,(P=(s+1)*i,+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[t+a+8>>2]=F[0],E[t+a+12>>2]=F[1],w[t+a+16>>1]=280,S[t+a+18>>0]=l,G(u,t+a+19,256),a+=i,s+=1}return H.llseek(r,s*i,0),a}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ge(e,t,n){W.varargs=n;try{var r=W.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var i=r.tty.ops.ioctl_tcgets(r),a=W.getp();E[a>>2]=i.c_iflag||0,E[a+4>>2]=i.c_oflag||0,E[a+8>>2]=i.c_cflag||0,E[a+12>>2]=i.c_lflag||0;for(var o=0;o<32;o++)S[a+o+17>>0]=i.c_cc[o]||0;return 0}return 0;case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){for(var a=W.getp(),s=E[a>>2],c=E[a+4>>2],l=E[a+8>>2],u=E[a+12>>2],d=[],o=0;o<32;o++)d.push(S[a+o+17>>0]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:s,c_oflag:c,c_cflag:l,c_lflag:u,c_cc:d})}return 0;case 21519:if(!r.tty)return-59;var a=W.getp();return E[a>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:var a=W.getp();return H.ioctl(r,t,a);case 21523:if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var f=r.tty.ops.ioctl_tiocgwinsz(r.tty),a=W.getp();w[a>>1]=f[0],w[a+2>>1]=f[1]}return 0;case 21524:return r.tty?0:-59;case 21515:return r.tty?0:-59;default:return-28}}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ke(e,t,n,r){W.varargs=r;try{t=W.getStr(t),t=W.calculateAt(e,t);var i=r?W.get():0;return H.open(t,n,i).fd}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function qe(e,t,n,r){try{if(t=W.getStr(t),t=W.calculateAt(e,t),r<=0)return-28;var i=H.readlink(t),a=Math.min(r,z(i)),o=S[n+a];return G(i,n,r+1),S[n+a]=o,a}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Je(e,t){try{return e=W.getStr(e),W.doStat(H.stat,e,t)}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ye(e,t){try{return e=W.getStr(e),t=W.getStr(t),H.symlink(e,t),0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Xe(e,t,n){try{return t=W.getStr(t),t=W.calculateAt(e,t),n===0?H.unlink(t):n===512?H.rmdir(t):N(`Invalid flags passed to unlinkat`),0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ze(e){if(Y.xhrs.has(e)){var t=Y.xhrs.get(e);Y.xhrs.free(e),t.readyState>0&&t.readyState<4&&t.abort()}}var Qe=1,$e=()=>Qe,et=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN;function tt(e,t,n){var r=et(e,t),i=new Date(r*1e3);E[n>>2]=i.getUTCSeconds(),E[n+4>>2]=i.getUTCMinutes(),E[n+8>>2]=i.getUTCHours(),E[n+12>>2]=i.getUTCDate(),E[n+16>>2]=i.getUTCMonth(),E[n+20>>2]=i.getUTCFullYear()-1900,E[n+24>>2]=i.getUTCDay();var a=Date.UTC(i.getUTCFullYear(),0,1,0,0,0,0),o=(i.getTime()-a)/(1e3*60*60*24)|0;E[n+28>>2]=o}var K=e=>e%4==0&&(e%100!=0||e%400==0),nt=[0,31,60,91,121,152,182,213,244,274,305,335],rt=[0,31,59,90,120,151,181,212,243,273,304,334],it=e=>(K(e.getFullYear())?nt:rt)[e.getMonth()]+e.getDate()-1;function at(e,t,n){var r=et(e,t),i=new Date(r*1e3);E[n>>2]=i.getSeconds(),E[n+4>>2]=i.getMinutes(),E[n+8>>2]=i.getHours(),E[n+12>>2]=i.getDate(),E[n+16>>2]=i.getMonth(),E[n+20>>2]=i.getFullYear()-1900,E[n+24>>2]=i.getDay();var a=it(i)|0;E[n+28>>2]=a,E[n+36>>2]=-(i.getTimezoneOffset()*60);var o=new Date(i.getFullYear(),0,1),s=new Date(i.getFullYear(),6,1).getTimezoneOffset(),c=o.getTimezoneOffset(),l=(s!=c&&i.getTimezoneOffset()==Math.min(c,s))|0;E[n+32>>2]=l}var ot=e=>{var t=z(e)+1,n=kn(t);return n&&G(e,n,t),n},st=(e,t,n)=>{var r=new Date().getFullYear(),i=new Date(r,0,1),a=new Date(r,6,1),o=i.getTimezoneOffset(),s=a.getTimezoneOffset(),c=Math.max(o,s);D[e>>2]=c*60,E[t>>2]=Number(o!=s);function l(e){var t=e.toTimeString().match(/\(([A-Za-z ]+)\)$/);return t?t[1]:`GMT`}var u=l(i),d=l(a),f=ot(u),p=ot(d);s<o?(D[n>>2]=f,D[n+4>>2]=p):(D[n>>2]=p,D[n+4>>2]=f)},ct=()=>{N(``)},lt=e=>{if(e instanceof Ce||e==`unwind`)return b;s(1,e)},ut=0,dt=()=>Ee||ut>0,ft=e=>{b=e,dt()||(n.onExit?.(e),y=!0),s(e,new Ce(e))},pt=(e,t)=>{b=e,ft(e)},mt=()=>{if(!dt())try{pt(b)}catch(e){lt(e)}},ht=e=>{if(!y)try{e(),mt()}catch(e){lt(e)}},gt=(e,t)=>setTimeout(()=>{ht(e)},t),_t=(e,t)=>{if(q.mainLoop.timingMode=e,q.mainLoop.timingValue=t,!q.mainLoop.func)return 1;if(q.mainLoop.running||(q.mainLoop.running=!0),e==0)q.mainLoop.scheduler=function(){var e=Math.max(0,q.mainLoop.tickStartTime+t-vt())|0;setTimeout(q.mainLoop.runner,e)},q.mainLoop.method=`timeout`;else if(e==1)q.mainLoop.scheduler=function(){q.requestAnimationFrame(q.mainLoop.runner)},q.mainLoop.method=`rAF`;else if(e==2){if(q.setImmediate===void 0)if(typeof setImmediate>`u`){var r=[],i=`setimmediate`;addEventListener(`message`,e=>{(e.data===i||e.data.target===i)&&(e.stopPropagation(),r.shift()())},!0),q.setImmediate=function(e){r.push(e),l?(n.setImmediates===void 0&&(n.setImmediates=[]),n.setImmediates.push(e),postMessage({target:i})):postMessage(i,`*`)}}else q.setImmediate=setImmediate;q.mainLoop.scheduler=function(){q.setImmediate(q.mainLoop.runner)},q.mainLoop.method=`immediate`}return 0},vt=()=>performance.now(),yt=(e,t,n,r,i)=>{x(!q.mainLoop.func,`emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters.`),q.mainLoop.func=e,q.mainLoop.arg=r;var a=q.mainLoop.currentlyRunningMainloop;function o(){return!(a<q.mainLoop.currentlyRunningMainloop)}if(q.mainLoop.running=!1,q.mainLoop.runner=function(){if(!y){if(q.mainLoop.queue.length>0){var t=q.mainLoop.queue.shift();if(t.func(t.arg),q.mainLoop.remainingBlockers){var n=q.mainLoop.remainingBlockers,r=n%1==0?n-1:Math.floor(n);t.counted?q.mainLoop.remainingBlockers=r:(r+=.5,q.mainLoop.remainingBlockers=(8*n+r)/9)}if(q.mainLoop.updateStatus(),!o())return;setTimeout(q.mainLoop.runner,0);return}if(o()){if(q.mainLoop.currentFrameNumber=q.mainLoop.currentFrameNumber+1|0,q.mainLoop.timingMode==1&&q.mainLoop.timingValue>1&&q.mainLoop.currentFrameNumber%q.mainLoop.timingValue!=0){q.mainLoop.scheduler();return}else q.mainLoop.timingMode==0&&(q.mainLoop.tickStartTime=vt());q.mainLoop.runIter(e),o()&&(typeof SDL==`object`&&SDL.audio?.queueNewAudioData?.(),q.mainLoop.scheduler())}}},i||(t&&t>0?_t(0,1e3/t):_t(1,1),q.mainLoop.scheduler()),n)throw`unwind`},bt=e=>{bt.shown||={},bt.shown[e]||(bt.shown[e]=1,g(e))},q={mainLoop:{running:!1,scheduler:null,method:``,currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause(){q.mainLoop.scheduler=null,q.mainLoop.currentlyRunningMainloop++},resume(){q.mainLoop.currentlyRunningMainloop++;var e=q.mainLoop.timingMode,t=q.mainLoop.timingValue,n=q.mainLoop.func;q.mainLoop.func=null,yt(n,0,!1,q.mainLoop.arg,!0),_t(e,t),q.mainLoop.scheduler()},updateStatus(){if(n.setStatus){var e=n.statusMessage||`Please wait...`,t=q.mainLoop.remainingBlockers,r=q.mainLoop.expectedBlockers;t?t<r?n.setStatus(e+` (`+(r-t)+`/`+r+`)`):n.setStatus(e):n.setStatus(``)}},runIter(e){y||n.preMainLoop&&n.preMainLoop()===!1||(ht(e),n.postMainLoop?.())}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init(){if(q.initted)return;q.initted=!0;var e={};e.canHandle=function(e){return!n.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},e.handle=function(e,t,n,r){var i=new Blob([e],{type:q.getMimetype(t)});i.size!==e.length&&(i=new Blob([new Uint8Array(e).buffer],{type:q.getMimetype(t)}));var a=URL.createObjectURL(i),o=new Image;o.onload=()=>{x(o.complete,`Image ${t} could not be decoded`);var r=document.createElement(`canvas`);r.width=o.width,r.height=o.height,r.getContext(`2d`).drawImage(o,0,0),Tn[t]=r,URL.revokeObjectURL(a),n?.(e)},o.onerror=e=>{g(`Image ${a} could not be decoded`),r?.()},o.src=a},Re.push(e);var t={};t.canHandle=function(e){return!n.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},t.handle=function(e,t,n,r){var i=!1;function a(r){i||(i=!0,En[t]=r,n?.(e))}var o=new Blob([e],{type:q.getMimetype(t)}),s=URL.createObjectURL(o),c=new Audio;c.addEventListener(`canplaythrough`,()=>a(c),!1),c.onerror=function(n){if(i)return;g(`warning: browser could not fully decode audio ${t}, trying slower base64 approach`);function r(e){for(var t=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,n=`=`,r=``,i=0,a=0,o=0;o<e.length;o++)for(i=i<<8|e[o],a+=8;a>=6;){var s=i>>a-6&63;a-=6,r+=t[s]}return a==2?(r+=t[(i&3)<<4],r+=n+n):a==4&&(r+=t[(i&15)<<2],r+=n),r}c.src=`data:audio/x-`+t.substr(-3)+`;base64,`+r(e),a(c)},c.src=s,gt(()=>{a(c)},1e4)},Re.push(t);function r(){q.pointerLock=document.pointerLockElement===n.canvas||document.mozPointerLockElement===n.canvas||document.webkitPointerLockElement===n.canvas||document.msPointerLockElement===n.canvas}var i=n.canvas;i&&(i.requestPointerLock=i.requestPointerLock||i.mozRequestPointerLock||i.webkitRequestPointerLock||i.msRequestPointerLock||(()=>{}),i.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||(()=>{}),i.exitPointerLock=i.exitPointerLock.bind(document),document.addEventListener(`pointerlockchange`,r,!1),document.addEventListener(`mozpointerlockchange`,r,!1),document.addEventListener(`webkitpointerlockchange`,r,!1),document.addEventListener(`mspointerlockchange`,r,!1),n.elementPointerLock&&i.addEventListener(`click`,e=>{!q.pointerLock&&n.canvas.requestPointerLock&&(n.canvas.requestPointerLock(),e.preventDefault())},!1))},createContext(e,t,r,i){if(t&&n.ctx&&e==n.canvas)return n.ctx;var a,o;if(t){var s={antialias:!1,alpha:!1,majorVersion:1};if(i)for(var c in i)s[c]=i[c];Z!==void 0&&(o=Z.createContext(e,s),o&&(a=Z.getContext(o).GLctx))}else a=e.getContext(`2d`);return a?(r&&(t||x(Q===void 0,`cannot set in module if GLctx is used, but we are a non-GL context that would replace it`),n.ctx=a,t&&Z.makeContextCurrent(o),n.useWebGL=t,q.moduleContextCreatedCallbacks.forEach(e=>e()),q.init()),a):null},destroyContext(e,t,n){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen(e,t){q.lockPointer=e,q.resizeCanvas=t,q.lockPointer===void 0&&(q.lockPointer=!0),q.resizeCanvas===void 0&&(q.resizeCanvas=!1);var r=n.canvas;function i(){q.isFullscreen=!1;var e=r.parentNode;(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e?(r.exitFullscreen=q.exitFullscreen,q.lockPointer&&r.requestPointerLock(),q.isFullscreen=!0,q.resizeCanvas?q.setFullscreenCanvasSize():q.updateCanvasDimensions(r)):(e.parentNode.insertBefore(r,e),e.parentNode.removeChild(e),q.resizeCanvas?q.setWindowedCanvasSize():q.updateCanvasDimensions(r)),n.onFullScreen?.(q.isFullscreen),n.onFullscreen?.(q.isFullscreen)}q.fullscreenHandlersInstalled||(q.fullscreenHandlersInstalled=!0,document.addEventListener(`fullscreenchange`,i,!1),document.addEventListener(`mozfullscreenchange`,i,!1),document.addEventListener(`webkitfullscreenchange`,i,!1),document.addEventListener(`MSFullscreenChange`,i,!1));var a=document.createElement(`div`);r.parentNode.insertBefore(a,r),a.appendChild(r),a.requestFullscreen=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||(a.webkitRequestFullscreen?()=>a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):null)||(a.webkitRequestFullScreen?()=>a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):null),a.requestFullscreen()},exitFullscreen(){return q.isFullscreen?((document.exitFullscreen||document.cancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitCancelFullScreen||(()=>{})).apply(document,[]),!0):!1},nextRAF:0,fakeRequestAnimationFrame(e){var t=Date.now();if(q.nextRAF===0)q.nextRAF=t+1e3/60;else for(;t+2>=q.nextRAF;)q.nextRAF+=1e3/60;var n=Math.max(q.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame(e){if(typeof requestAnimationFrame==`function`){requestAnimationFrame(e);return}var t=q.fakeRequestAnimationFrame;t(e)},safeSetTimeout(e,t){return gt(e,t)},safeRequestAnimationFrame(e){return q.requestAnimationFrame(()=>{ht(e)})},getMimetype(e){return{jpg:`image/jpeg`,jpeg:`image/jpeg`,png:`image/png`,bmp:`image/bmp`,ogg:`audio/ogg`,wav:`audio/wav`,mp3:`audio/mpeg`}[e.substr(e.lastIndexOf(`.`)+1)]},getUserMedia(e){window.getUserMedia||=navigator.getUserMedia||navigator.mozGetUserMedia,window.getUserMedia(e)},getMovementX(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta(e){var t=0;switch(e.type){case`DOMMouseScroll`:t=e.detail/3;break;case`mousewheel`:t=e.wheelDelta/120;break;case`wheel`:switch(t=e.deltaY,e.deltaMode){case 0:t/=100;break;case 1:t/=3;break;case 2:t*=80;break;default:throw`unrecognized mouse wheel delta mode: `+e.deltaMode}break;default:throw`unrecognized mouse wheel event: `+e.type}return t},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseCoords(e,t){var r=n.canvas.getBoundingClientRect(),i=n.canvas.width,a=n.canvas.height,o=window.scrollX===void 0?window.pageXOffset:window.scrollX,s=window.scrollY===void 0?window.pageYOffset:window.scrollY,c=e-(o+r.left),l=t-(s+r.top);return c*=i/r.width,l*=a/r.height,{x:c,y:l}},setMouseCoords(e,t){let{x:n,y:r}=q.calculateMouseCoords(e,t);q.mouseMovementX=n-q.mouseX,q.mouseMovementY=r-q.mouseY,q.mouseX=n,q.mouseY=r},calculateMouseEvent(e){if(q.pointerLock)e.type!=`mousemove`&&`mozMovementX`in e?q.mouseMovementX=q.mouseMovementY=0:(q.mouseMovementX=q.getMovementX(e),q.mouseMovementY=q.getMovementY(e)),typeof SDL<`u`?(q.mouseX=SDL.mouseX+q.mouseMovementX,q.mouseY=SDL.mouseY+q.mouseMovementY):(q.mouseX+=q.mouseMovementX,q.mouseY+=q.mouseMovementY);else{if(e.type===`touchstart`||e.type===`touchend`||e.type===`touchmove`){var t=e.touch;if(t===void 0)return;var n=q.calculateMouseCoords(t.pageX,t.pageY);if(e.type===`touchstart`)q.lastTouches[t.identifier]=n,q.touches[t.identifier]=n;else if(e.type===`touchend`||e.type===`touchmove`){var r=q.touches[t.identifier];r||=n,q.lastTouches[t.identifier]=r,q.touches[t.identifier]=n}return}q.setMouseCoords(e.pageX,e.pageY)}},resizeListeners:[],updateResizeListeners(){var e=n.canvas;q.resizeListeners.forEach(t=>t(e.width,e.height))},setCanvasSize(e,t,r){var i=n.canvas;q.updateCanvasDimensions(i,e,t),r||q.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize(){if(typeof SDL<`u`){var e=D[SDL.screen>>2];e|=8388608,E[SDL.screen>>2]=e}q.updateCanvasDimensions(n.canvas),q.updateResizeListeners()},setWindowedCanvasSize(){if(typeof SDL<`u`){var e=D[SDL.screen>>2];e&=-8388609,E[SDL.screen>>2]=e}q.updateCanvasDimensions(n.canvas),q.updateResizeListeners()},updateCanvasDimensions(e,t,r){t&&r?(e.widthNative=t,e.heightNative=r):(t=e.widthNative,r=e.heightNative);var i=t,a=r;if(n.forcedAspectRatio&&n.forcedAspectRatio>0&&(i/a<n.forcedAspectRatio?i=Math.round(a*n.forcedAspectRatio):a=Math.round(i/n.forcedAspectRatio)),(document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&typeof screen<`u`){var o=Math.min(screen.width/i,screen.height/a);i=Math.round(i*o),a=Math.round(a*o)}q.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=a&&(e.height=a),e.style!==void 0&&(e.style.removeProperty(`width`),e.style.removeProperty(`height`))):(e.width!=t&&(e.width=t),e.height!=r&&(e.height=r),e.style!==void 0&&(i!=t||a!=r?(e.style.setProperty(`width`,i+`px`,`important`),e.style.setProperty(`height`,a+`px`,`important`)):(e.style.removeProperty(`width`),e.style.removeProperty(`height`))))}},xt=[],St,J=e=>{var t=xt[e];return t||(e>=xt.length&&(xt.length=e+1),xt[e]=t=St.get(e)),t},Ct=(e,t,n)=>{function r(){J(e)(t)}n>=0?gt(r,n):q.safeRequestAnimationFrame(r)},wt=()=>Date.now(),Tt=()=>2147483648,Et=()=>Tt(),Dt=()=>!l,Ot=(e,t,n)=>C.copyWithin(e,t,t+n),kt=e=>{var t=(e-v.buffer.byteLength+65535)/65536;try{return v.grow(t),te(),1}catch{}},At=e=>{var t=C.length;e>>>=0;var n=Tt();if(e>n)return!1;for(var r=(e,t)=>e+(t-e%t)%t,i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),kt(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1};class jt{constructor(){this.allocated=[void 0],this.freelist=[]}get(e){return this.allocated[e]}has(e){return this.allocated[e]!==void 0}allocate(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t}free(e){this.allocated[e]=void 0,this.freelist.push(e)}}var Y={openDatabase(e,t,n,r){try{var i=indexedDB.open(e,t)}catch(e){return r(e)}i.onupgradeneeded=e=>{var t=e.target.result;t.objectStoreNames.contains(`FILES`)&&t.deleteObjectStore(`FILES`),t.createObjectStore(`FILES`)},i.onsuccess=e=>n(e.target.result),i.onerror=r},init(){Y.xhrs=new jt,pe(`library_fetch_init`),Y.openDatabase(`emscripten_filesystem`,1,e=>{Y.dbInstance=e,M(`library_fetch_init`)},()=>{Y.dbInstance=!1,M(`library_fetch_init`)})}};function Mt(e,t,n,r,i){var a=D[e+8>>2];if(!a){n(e,0,`no url specified!`);return}var o=U(a),s=e+112,c=U(s+0);c||=`GET`;var l=D[s+56>>2],u=D[s+68>>2],d=D[s+72>>2],f=D[s+76>>2],p=D[s+80>>2],m=D[s+84>>2],h=D[s+88>>2],g=D[s+52>>2],_=!!(g&1),v=!!(g&2),y=!!(g&64),b=u?U(u):void 0,x=d?U(d):void 0,S=new XMLHttpRequest;if(S.withCredentials=!!C[s+60>>0],S.open(c,o,!y,b,x),y||(S.timeout=l),S.url_=o,S.responseType=`arraybuffer`,p){var w=U(p);S.overrideMimeType(w)}if(f)for(;;){var E=D[f>>2];if(!E)break;var O=D[f+4>>2];if(!O)break;f+=8;var ee=U(E),te=U(O);S.setRequestHeader(ee,te)}var k=Y.xhrs.allocate(S);D[e>>2]=k;var ne=m&&h?C.slice(m,m+h):null;function re(){var t=0,n=0;S.response&&_&&D[e+12>>2]===0&&(n=S.response.byteLength),n>0&&(t=kn(n),C.set(new Uint8Array(S.response),t)),D[e+12>>2]=t,X(e+16,n),X(e+24,0);var r=S.response?S.response.byteLength:0;r&&X(e+32,r),T[e+40>>1]=S.readyState,T[e+42>>1]=S.status,S.statusText&&G(S.statusText,e+44,64)}S.onload=r=>{Y.xhrs.has(k)&&(re(),S.status>=200&&S.status<300?t?.(e,S,r):n?.(e,S,r))},S.onerror=t=>{Y.xhrs.has(k)&&(re(),n?.(e,S,t))},S.ontimeout=t=>{Y.xhrs.has(k)&&n?.(e,S,t)},S.onprogress=t=>{if(Y.xhrs.has(k)){var n=_&&v&&S.response?S.response.byteLength:0,i=0;n>0&&_&&v&&(i=kn(n),C.set(new Uint8Array(S.response),i)),D[e+12>>2]=i,X(e+16,n),X(e+24,t.loaded-n),X(e+32,t.total),T[e+40>>1]=S.readyState,S.readyState>=3&&S.status===0&&t.loaded>0&&(S.status=200),T[e+42>>1]=S.status,S.statusText&&G(S.statusText,e+44,64),r?.(e,S,t),i&&On(i)}},S.onreadystatechange=t=>{Y.xhrs.has(k)&&(T[e+40>>1]=S.readyState,S.readyState>=2&&(T[e+42>>1]=S.status),i?.(e,S,t))};try{S.send(ne)}catch(t){n?.(e,S,t)}}var X=(e,t)=>{D[e>>2]=t;var n=D[e>>2];D[e+4>>2]=(t-n)/4294967296};function Nt(e,t,n,r,i){if(!e){i(t,0,`IndexedDB not available!`);return}var a=t+112,o=D[a+64>>2];o||=D[t+8>>2];var s=U(o);try{var c=e.transaction([`FILES`],`readwrite`).objectStore(`FILES`).put(n,s);c.onsuccess=e=>{T[t+40>>1]=4,T[t+42>>1]=200,G(`OK`,t+44,64),r(t,0,s)},c.onerror=e=>{T[t+40>>1]=4,T[t+42>>1]=413,G(`Payload Too Large`,t+44,64),i(t,0,e)}}catch(e){i(t,0,e)}}function Pt(e,t,n,r){if(!e){r(t,0,`IndexedDB not available!`);return}var i=t+112,a=D[i+64>>2];a||=D[t+8>>2];var o=U(a);try{var s=e.transaction([`FILES`],`readonly`).objectStore(`FILES`).get(o);s.onsuccess=e=>{if(e.target.result){var i=e.target.result,a=i.byteLength||i.length,o=kn(a);C.set(new Uint8Array(i),o),D[t+12>>2]=o,X(t+16,a),X(t+24,0),X(t+32,a),T[t+40>>1]=4,T[t+42>>1]=200,G(`OK`,t+44,64),n(t,0,i)}else T[t+40>>1]=4,T[t+42>>1]=404,G(`Not Found`,t+44,64),r(t,0,`no data`)},s.onerror=e=>{T[t+40>>1]=4,T[t+42>>1]=404,G(`Not Found`,t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}function Ft(e,t,n,r){if(!e){r(t,0,`IndexedDB not available!`);return}var i=t+112,a=D[i+64>>2];a||=D[t+8>>2];var o=U(a);try{var s=e.transaction([`FILES`],`readwrite`).objectStore(`FILES`).delete(o);s.onsuccess=e=>{var r=e.target.result;D[t+12>>2]=0,X(t+16,0),X(t+24,0),X(t+32,0),T[t+40>>1]=4,T[t+42>>1]=200,G(`OK`,t+44,64),n(t,0,r)},s.onerror=e=>{T[t+40>>1]=4,T[t+42>>1]=404,G(`Not Found`,t+44,64),r(t,0,e)}}catch(e){r(t,0,e)}}function It(e,t,n,r,i){var a=e+112,o=D[a+36>>2],s=D[a+40>>2],c=D[a+44>>2],l=D[a+48>>2],u=D[a+52>>2],d=!!(u&64);function f(e){d?e():ht(e)}var p=(e,n,r)=>{f(()=>{o?J(o)(e):t?.(e)})},m=(e,t,n)=>{f(()=>{c?J(c)(e):r?.(e)})},h=(e,t,r)=>{f(()=>{s?J(s)(e):n?.(e)})},g=(e,t,n)=>{f(()=>{l?J(l)(e):i?.(e)})},_=(e,t,n)=>{Mt(e,p,h,m,g)},v=(e,n,r)=>{Nt(Y.dbInstance,e,n.response,(e,n,r)=>{f(()=>{o?J(o)(e):t?.(e)})},(e,n,r)=>{f(()=>{o?J(o)(e):t?.(e)})})},y=(e,t,n)=>{Mt(e,v,h,m,g)},b=U(a+0),x=!!(u&16),S=!!(u&4),w=!!(u&32);if(b===`EM_IDB_STORE`){var T=D[a+84>>2],E=D[a+88>>2];Nt(Y.dbInstance,e,C.slice(T,T+E),p,h)}else if(b===`EM_IDB_DELETE`)Ft(Y.dbInstance,e,p,h);else if(!x)Pt(Y.dbInstance,e,p,w?h:S?y:_);else if(!w)Mt(e,S?v:p,h,m,g);else return 0;return e}var Lt={},Rt=()=>o||`./this.program`,zt=()=>{if(!zt.strings){var e={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:(typeof navigator==`object`&&navigator.languages&&navigator.languages[0]||`C`).replace(`-`,`_`)+`.UTF-8`,_:Rt()};for(var t in Lt)Lt[t]===void 0?delete e[t]:e[t]=Lt[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);zt.strings=n}return zt.strings},Bt=(e,t)=>{for(var n=0;n<e.length;++n)S[t++>>0]=e.charCodeAt(n);S[t>>0]=0},Vt=(e,t)=>{var n=0;return zt().forEach((r,i)=>{var a=t+n;D[e+i*4>>2]=a,Bt(r,a),n+=r.length+1}),0},Ht=(e,t)=>{var n=zt();D[e>>2]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),D[t>>2]=r,0};function Ut(e){try{var t=W.getStreamFromFD(e);return H.close(t),0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}var Wt=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=D[t>>2],s=D[t+4>>2];t+=8;var c=H.read(e,S,o,s,r);if(c<0)return-1;if(i+=c,c<s)break;r!==void 0&&(r+=c)}return i};function Gt(e,t,n,r){try{var i=Wt(W.getStreamFromFD(e),t,n);return D[r>>2]=i,0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}function Kt(e,t,n,r,i){var a=et(t,n);try{if(isNaN(a))return 61;var o=W.getStreamFromFD(e);return H.llseek(o,a,r),F=[o.position>>>0,(P=o.position,+Math.abs(P)>=1?P>0?Math.floor(P/4294967296)>>>0:~~+Math.ceil((P-+(~~P>>>0))/4294967296)>>>0:0)],E[i>>2]=F[0],E[i+4>>2]=F[1],o.getdents&&a===0&&r===0&&(o.getdents=null),0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}var qt=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=D[t>>2],s=D[t+4>>2];t+=8;var c=H.write(e,S,o,s,r);if(c<0)return-1;i+=c,r!==void 0&&(r+=c)}return i};function Jt(e,t,n,r){try{var i=qt(W.getStreamFromFD(e),t,n);return D[r>>2]=i,0}catch(e){if(H===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}var Yt=e=>{var t=e.getExtension(`ANGLE_instanced_arrays`);if(t)return e.vertexAttribDivisor=(e,n)=>t.vertexAttribDivisorANGLE(e,n),e.drawArraysInstanced=(e,n,r,i)=>t.drawArraysInstancedANGLE(e,n,r,i),e.drawElementsInstanced=(e,n,r,i,a)=>t.drawElementsInstancedANGLE(e,n,r,i,a),1},Xt=e=>{var t=e.getExtension(`OES_vertex_array_object`);if(t)return e.createVertexArray=()=>t.createVertexArrayOES(),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.isVertexArray=e=>t.isVertexArrayOES(e),1},Zt=e=>{var t=e.getExtension(`WEBGL_draw_buffers`);if(t)return e.drawBuffers=(e,n)=>t.drawBuffersWEBGL(e,n),1},Qt=e=>!!(e.multiDrawWebgl=e.getExtension(`WEBGL_multi_draw`)),$t=function(e){var t=`ANGLE_instanced_arrays.EXT_blend_minmax.EXT_disjoint_timer_query.EXT_frag_depth.EXT_shader_texture_lod.EXT_sRGB.OES_element_index_uint.OES_fbo_render_mipmap.OES_standard_derivatives.OES_texture_float.OES_texture_half_float.OES_texture_half_float_linear.OES_vertex_array_object.WEBGL_color_buffer_float.WEBGL_depth_texture.WEBGL_draw_buffers.EXT_color_buffer_half_float.EXT_float_blend.EXT_texture_compression_bptc.EXT_texture_compression_rgtc.EXT_texture_filter_anisotropic.KHR_parallel_shader_compile.OES_texture_float_linear.WEBGL_compressed_texture_s3tc.WEBGL_compressed_texture_s3tc_srgb.WEBGL_debug_renderer_info.WEBGL_debug_shaders.WEBGL_lose_context.WEBGL_multi_draw`.split(`.`);return(e.getSupportedExtensions()||[]).filter(e=>t.includes(e))},Z={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(e){Z.lastError||=e},getNewId:e=>{for(var t=Z.counter++,n=e.length;n<t;n++)e[n]=null;return t},getSource:(e,t,n,r)=>{for(var i=``,a=0;a<t;++a){var o=r?D[r+a*4>>2]:void 0;i+=U(D[n+a*4>>2],o)}return i},createContext:(e,t)=>{if(!e.getContextSafariWebGL2Fixed){e.getContextSafariWebGL2Fixed=e.getContext;function t(t,n){var r=e.getContextSafariWebGL2Fixed(t,n);return t==`webgl`==r instanceof WebGLRenderingContext?r:null}e.getContext=t}var n=e.getContext(`webgl`,t);return n?Z.registerContext(n,t):0},registerContext:(e,t)=>{var n=Z.getNewId(Z.contexts),r={handle:n,attributes:t,version:t.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=r),Z.contexts[n]=r,(t.enableExtensionsByDefault===void 0||t.enableExtensionsByDefault)&&Z.initExtensions(r),n},makeContextCurrent:e=>(Z.currentContext=Z.contexts[e],n.ctx=Q=Z.currentContext?.GLctx,!(e&&!Q)),getContext:e=>Z.contexts[e],deleteContext:e=>{Z.currentContext===Z.contexts[e]&&(Z.currentContext=null),typeof JSEvents==`object`&&JSEvents.removeAllHandlersOnTarget(Z.contexts[e].GLctx.canvas),Z.contexts[e]&&Z.contexts[e].GLctx.canvas&&(Z.contexts[e].GLctx.canvas.GLctxObject=void 0),Z.contexts[e]=null},initExtensions:e=>{if(e||=Z.currentContext,!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;Yt(t),Xt(t),Zt(t),t.disjointTimerQueryExt=t.getExtension(`EXT_disjoint_timer_query`),Qt(t),$t(t).forEach(e=>{!e.includes(`lose_context`)&&!e.includes(`debug`)&&t.getExtension(e)})}}},en=(e,t)=>{Q.bindTexture(e,Z.textures[t])},tn=(e,t,n,r)=>{for(var i=0;i<e;i++){var a=Q[n](),o=a&&Z.getNewId(r);a?(a.name=o,r[o]=a):Z.recordError(1282),E[t+i*4>>2]=o}},nn=(e,t)=>{tn(e,t,`createTexture`,Z.textures)},rn=(e,t,n,r)=>{function i(e,t){return e+t-1&-t}return t*i(e*n,r)},an=e=>({5:3,6:4,8:2,29502:3,29504:4})[e-6402]||1,on=e=>(e-=5120,e==1?C:e==4?E:e==6?O:e==5||e==28922?D:T),sn=e=>31-Math.clz32(e.BYTES_PER_ELEMENT),cn=(e,t,n,r,i,a)=>{var o=on(e),s=sn(o),c=1<<s,l=rn(n,r,an(t)*c,Z.unpackAlignment);return o.subarray(i>>s,i+l>>s)},ln=(e,t,n,r,i,a,o,s,c)=>{Q.texImage2D(e,t,n,r,i,a,o,s,c?cn(s,o,r,i,c,n):null)};function un(e,t,n){Q.texParameteri(e,t,n)}var dn=(e,t)=>{for(var n=0,r=0;r<=t;n+=e[r++]);return n},fn=[31,29,31,30,31,30,31,31,30,31,30,31],pn=[31,28,31,30,31,30,31,31,30,31,30,31],mn=(e,t)=>{for(var n=new Date(e.getTime());t>0;){var r=K(n.getFullYear()),i=n.getMonth(),a=(r?fn:pn)[i];if(t>a-n.getDate())t-=a-n.getDate()+1,n.setDate(1),i<11?n.setMonth(i+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1));else return n.setDate(n.getDate()+t),n}return n},hn=(e,t)=>{S.set(e,t)},gn=(e,t,n,r)=>{var i=D[r+40>>2],a={tm_sec:E[r>>2],tm_min:E[r+4>>2],tm_hour:E[r+8>>2],tm_mday:E[r+12>>2],tm_mon:E[r+16>>2],tm_year:E[r+20>>2],tm_wday:E[r+24>>2],tm_yday:E[r+28>>2],tm_isdst:E[r+32>>2],tm_gmtoff:E[r+36>>2],tm_zone:i?U(i):``},o=U(n),s={"%c":`%a %b %d %H:%M:%S %Y`,"%D":`%m/%d/%y`,"%F":`%Y-%m-%d`,"%h":`%b`,"%r":`%I:%M:%S %p`,"%R":`%H:%M`,"%T":`%H:%M:%S`,"%x":`%m/%d/%y`,"%X":`%H:%M:%S`,"%Ec":`%c`,"%EC":`%C`,"%Ex":`%m/%d/%y`,"%EX":`%H:%M:%S`,"%Ey":`%y`,"%EY":`%Y`,"%Od":`%d`,"%Oe":`%e`,"%OH":`%H`,"%OI":`%I`,"%Om":`%m`,"%OM":`%M`,"%OS":`%S`,"%Ou":`%u`,"%OU":`%U`,"%OV":`%V`,"%Ow":`%w`,"%OW":`%W`,"%Oy":`%y`};for(var c in s)o=o.replace(new RegExp(c,`g`),s[c]);var l=[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],u=[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`];function d(e,t,n){for(var r=typeof e==`number`?e.toString():e||``;r.length<t;)r=n[0]+r;return r}function f(e,t){return d(e,t,`0`)}function p(e,t){function n(e){return e<0?-1:e>0?1:0}var r;return(r=n(e.getFullYear()-t.getFullYear()))===0&&(r=n(e.getMonth()-t.getMonth()))===0&&(r=n(e.getDate()-t.getDate())),r}function m(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function h(e){var t=mn(new Date(e.tm_year+1900,0,1),e.tm_yday),n=new Date(t.getFullYear(),0,4),r=new Date(t.getFullYear()+1,0,4),i=m(n),a=m(r);return p(i,t)<=0?p(a,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var g={"%a":e=>l[e.tm_wday].substring(0,3),"%A":e=>l[e.tm_wday],"%b":e=>u[e.tm_mon].substring(0,3),"%B":e=>u[e.tm_mon],"%C":e=>f((e.tm_year+1900)/100|0,2),"%d":e=>f(e.tm_mday,2),"%e":e=>d(e.tm_mday,2,` `),"%g":e=>h(e).toString().substring(2),"%G":h,"%H":e=>f(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return t==0?t=12:t>12&&(t-=12),f(t,2)},"%j":e=>f(e.tm_mday+dn(K(e.tm_year+1900)?fn:pn,e.tm_mon-1),3),"%m":e=>f(e.tm_mon+1,2),"%M":e=>f(e.tm_min,2),"%n":()=>`
`,"%p":e=>e.tm_hour>=0&&e.tm_hour<12?`AM`:`PM`,"%S":e=>f(e.tm_sec,2),"%t":()=>`	`,"%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return f(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(t==53){var n=(e.tm_wday+371-e.tm_yday)%7;n!=4&&(n!=3||!K(e.tm_year))&&(t=1)}}else{t=52;var r=(e.tm_wday+7-e.tm_yday-1)%7;(r==4||r==5&&K(e.tm_year%400-1))&&t++}return f(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return f(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff,n=t>=0;return t=Math.abs(t)/60,t=t/60*100+t%60,(n?`+`:`-`)+String(`0000`+t).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>`%`};for(var c in o=o.replace(/%%/g,`\0\0`),g)o.includes(c)&&(o=o.replace(new RegExp(c,`g`),g[c](a)));o=o.replace(/\0\0/g,`%`);var _=Ne(o,!1);return _.length>t?0:(hn(_,e),_.length-1)},_n=(e,t,n,r,i)=>gn(e,t,n,r),vn=e=>n[`_`+e],yn=e=>{var t=z(e)+1,n=Nn(t);return G(e,n,t),n},bn=(e,t,n,r,i)=>{var a={string:e=>{var t=0;return e!=null&&e!==0&&(t=yn(e)),t},array:e=>{var t=Nn(e.length);return hn(e,t),t}};function o(e){return t===`string`?U(e):t===`boolean`?!!e:e}var s=vn(e),c=[],l=0;if(r)for(var u=0;u<r.length;u++){var d=a[n[u]];d?(l===0&&(l=jn()),c[u]=d(r[u])):c[u]=r[u]}var f=s.apply(null,c);function p(e){return l!==0&&Mn(l),o(e)}return f=p(f),f},xn=(e,t,n,r)=>{var i=!n||n.every(e=>e===`number`||e===`boolean`);return t!==`string`&&i&&!r?vn(e):function(){return bn(e,t,n,arguments,r)}},Sn=function(e,t,n,r){e||=this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=H.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r},Cn=365,wn=146;Object.defineProperties(Sn.prototype,{read:{get:function(){return(this.mode&Cn)===Cn},set:function(e){e?this.mode|=Cn:this.mode&=~Cn}},write:{get:function(){return(this.mode&wn)===wn},set:function(e){e?this.mode|=wn:this.mode&=~wn}},isFolder:{get:function(){return H.isDir(this.mode)}},isDevice:{get:function(){return H.isChrdev(this.mode)}}}),H.FSNode=Sn,H.createPreloadedFile=Be,H.staticInit(),n.requestFullscreen=q.requestFullscreen,n.requestAnimationFrame=q.requestAnimationFrame,n.setCanvasSize=q.setCanvasSize,n.pauseMainLoop=q.mainLoop.pause,n.resumeMainLoop=q.mainLoop.resume,n.getUserMedia=q.getUserMedia,n.createContext=q.createContext;var Tn={},En={};Y.init();var Q,Dn={a:Ue,A:We,H:Ge,i:Ke,y:qe,D:Je,z:Ye,w:Xe,I:Ze,F:$e,q:tt,r:at,x:st,b:ct,n:Se,p:be,o:xe,h:Ct,f:wt,t:Et,E:vt,K:Dt,G:Ot,v:At,J:It,B:Vt,C:Ht,m:pt,c:Ut,j:Gt,s:Kt,g:Jt,k:en,l:nn,d:ln,e:un,u:_n},$=ye();$.M,n._zappar_has_initialized=$.N,n._zappar_invert=$.O,n._zappar_loaded=$.P,n._zappar_pipeline_create=$.R,n._zappar_pipeline_destroy=$.S,n._zappar_pipeline_camera_frame_submit=$.T,n._zappar_pipeline_camera_frame_submit_raw_pointer=$.U,n._zappar_pipeline_frame_update=$.V,n._zappar_pipeline_camera_frame_user_data=$.W,n._zappar_pipeline_camera_model=$.X,n._zappar_pipeline_camera_data_width=$.Y,n._zappar_pipeline_camera_data_height=$.Z,n._zappar_pipeline_camera_frame_sharpness=$._,n._zappar_pipeline_camera_frame_sharpness_enabled_set=$.$,n._zappar_pipeline_frame_number=$.aa,n._zappar_pipeline_camera_frame_data_raw_size=$.ba,n._zappar_pipeline_camera_frame_data_raw=$.ca,n._zappar_pipeline_motion_accelerometer_submit=$.da,n._zappar_pipeline_motion_accelerometer_with_gravity_submit_int=$.ea,n._zappar_pipeline_motion_accelerometer_without_gravity_submit_int=$.fa,n._zappar_pipeline_motion_rotation_rate_submit_int=$.ga,n._zappar_pipeline_motion_attitude_submit_int=$.ha,n._zappar_pipeline_motion_relative_orientation_submit_int=$.ia,n._zappar_pipeline_motion_rotation_rate_submit=$.ja,n._zappar_pipeline_motion_attitude_submit=$.ka,n._zappar_pipeline_motion_attitude_matrix_submit=$.la,n._zappar_pipeline_camera_frame_user_facing=$.ma,n._zappar_pipeline_camera_frame_texture_matrix=$.na,n._zappar_pipeline_camera_pose_with_attitude=$.oa,n._zappar_pipeline_camera_pose_with_origin=$.pa,n._zappar_pipeline_camera_frame_camera_attitude=$.qa,n._zappar_pipeline_camera_frame_device_attitude=$.ra,n._zappar_pipeline_camera_frame_texture_gl=$.sa,n._zappar_pipeline_camera_frame_upload_gl=$.ta,n._zappar_pipeline_sequence_record_start=$.ua,n._zappar_pipeline_sequence_record_stop=$.va,n._zappar_pipeline_sequence_record_clear=$.wa,n._zappar_pipeline_sequence_record_device_attitude_matrices_set=$.xa,n._zappar_pipeline_sequence_record_data_size=$.ya,n._zappar_pipeline_sequence_record_data=$.za,n._zappar_pipeline_process_gl=$.Aa,n._zappar_pipeline_camera_pose_default=$.Ba,n._zappar_instant_world_tracker_create=$.Ca,n._zappar_instant_world_tracker_destroy=$.Da,n._zappar_instant_world_tracker_anchor_pose_set_from_camera_offset_raw=$.Ea,n._zappar_instant_world_tracker_anchor_pose_raw=$.Fa,n._zappar_instant_world_tracker_enabled_set=$.Ga,n._zappar_instant_world_tracker_enabled=$.Ha,n._zappar_custom_anchor_create=$.Ia,n._zappar_custom_anchor_destroy=$.Ja,n._zappar_custom_anchor_pose_set_from_camera_offset_raw=$.Ka,n._zappar_custom_anchor_pose_set_from_anchor_offset=$.La,n._zappar_custom_anchor_pose_set_with_parent=$.Ma,n._zappar_custom_anchor_pose_set=$.Na,n._zappar_custom_anchor_pose_version=$.Oa,n._zappar_custom_anchor_pose_raw=$.Pa,n._zappar_custom_anchor_id=$.Qa,n._zappar_custom_anchor_status=$.Ra,n._zappar_image_tracker_create=$.Sa,n._zappar_image_tracker_destroy=$.Ta,n._zappar_image_tracker_target_load_from_memory=$.Ua,n.__Z42zappar_image_tracker_target_load_from_fileP23zappar_image_tracker_tiPKc=$.Va;var On=n._free=$.Wa;n._zappar_image_tracker_anchor_count=$.Xa,n._zappar_image_tracker_anchor_id=$.Ya,n._zappar_image_tracker_anchor_pose_raw=$.Za,n._zappar_image_tracker_enabled_set=$._a,n._zappar_image_tracker_enabled=$.$a,n._zappar_image_tracker_target_loaded_version=$.ab,n.__Z33zappar_image_tracker_target_countP23zappar_image_tracker_ti=$.bb,n.__Z46zappar_image_tracker_target_preview_compressedP23zappar_image_tracker_tii=$.cb,n.__Z51zappar_image_tracker_target_preview_compressed_sizeP23zappar_image_tracker_tii=$.db,n.__Z55zappar_image_tracker_target_preview_compressed_mimetypeP23zappar_image_tracker_tii=$.eb,n.__Z40zappar_image_tracker_target_preview_rgbaP23zappar_image_tracker_tii=$.fb,n.__Z45zappar_image_tracker_target_preview_rgba_sizeP23zappar_image_tracker_tii=$.gb,n.__Z46zappar_image_tracker_target_preview_rgba_widthP23zappar_image_tracker_tii=$.hb,n.__Z47zappar_image_tracker_target_preview_rgba_heightP23zappar_image_tracker_tii=$.ib,n.__Z38zappar_image_tracker_target_radius_topP23zappar_image_tracker_tii=$.jb,n.__Z41zappar_image_tracker_target_radius_bottomP23zappar_image_tracker_tii=$.kb,n.__Z39zappar_image_tracker_target_side_lengthP23zappar_image_tracker_tii=$.lb,n.__Z49zappar_image_tracker_target_physical_scale_factorP23zappar_image_tracker_tii=$.mb,n.__Z49zappar_image_tracker_target_preview_mesh_verticesP23zappar_image_tracker_tii=$.nb,n.__Z48zappar_image_tracker_target_preview_mesh_normalsP23zappar_image_tracker_tii=$.ob,n.__Z44zappar_image_tracker_target_preview_mesh_uvsP23zappar_image_tracker_tii=$.pb,n.__Z48zappar_image_tracker_target_preview_mesh_indicesP23zappar_image_tracker_tii=$.qb,n.__Z54zappar_image_tracker_target_preview_mesh_vertices_sizeP23zappar_image_tracker_tii=$.rb,n.__Z53zappar_image_tracker_target_preview_mesh_normals_sizeP23zappar_image_tracker_tii=$.sb,n.__Z49zappar_image_tracker_target_preview_mesh_uvs_sizeP23zappar_image_tracker_tii=$.tb,n.__Z53zappar_image_tracker_target_preview_mesh_indices_sizeP23zappar_image_tracker_tii=$.ub,n.__Z32zappar_image_tracker_target_typeP23zappar_image_tracker_tii=$.vb,n._zappar_face_tracker_create=$.wb,n._zappar_face_tracker_destroy=$.xb,n._zappar_face_tracker_model_load_from_memory=$.yb,n._zappar_face_tracker_anchor_count=$.zb,n._zappar_face_tracker_anchor_id=$.Ab,n._zappar_face_tracker_anchor_pose_raw=$.Bb,n._zappar_face_tracker_anchor_identity_coefficients=$.Cb,n._zappar_face_tracker_anchor_expression_coefficients=$.Db,n._zappar_face_tracker_enabled_set=$.Eb,n._zappar_face_tracker_enabled=$.Fb,n._zappar_face_tracker_max_faces_set=$.Gb,n._zappar_face_tracker_max_faces=$.Hb,n._zappar_face_tracker_model_loaded_version=$.Ib,n._zappar_face_landmark_create=$.Jb,n._zappar_face_landmark_destroy=$.Kb,n.__Z27zappar_face_landmark_updateP23zappar_face_landmark_tiPKfS2_i=$.Lb,n._zappar_face_landmark_anchor_pose=$.Mb,n._zappar_barcode_finder_create=$.Nb,n._zappar_barcode_finder_destroy=$.Ob,n._zappar_barcode_finder_found_number=$.Pb,n._zappar_barcode_finder_found_text=$.Qb,n._zappar_barcode_finder_enabled_set=$.Rb,n._zappar_barcode_finder_enabled=$.Sb,n._zappar_barcode_finder_found_format=$.Tb,n._zappar_barcode_finder_formats=$.Ub,n._zappar_barcode_finder_formats_set=$.Vb,n._zappar_zapcode_tracker_create=$.Wb,n._zappar_zapcode_tracker_destroy=$.Xb,n._zappar_zapcode_tracker_target_load_from_memory=$.Yb,n.__Z44zappar_zapcode_tracker_target_load_from_fileP25zappar_zapcode_tracker_tiPKc=$.Zb,n._zappar_zapcode_tracker_anchor_count=$._b,n._zappar_zapcode_tracker_anchor_id=$.$b,n._zappar_zapcode_tracker_anchor_pose_raw=$.ac,n._zappar_zapcode_tracker_enabled_set=$.bc,n._zappar_zapcode_tracker_enabled=$.cc,n._zappar_zapcode_tracker_target_loaded_version=$.dc;var kn=n._malloc=$.ec;n._zappar_face_mesh_create=$.fc,n._zappar_face_mesh_destroy=$.gc,n.__Z33zappar_face_mesh_load_from_memoryP19zappar_face_mesh_tiPKciiiii=$.hc,n.__Z29zappar_face_mesh_indices_sizeP19zappar_face_mesh_ti=$.ic,n.__Z25zappar_face_mesh_uvs_sizeP19zappar_face_mesh_ti=$.jc,n.__Z30zappar_face_mesh_vertices_sizeP19zappar_face_mesh_ti=$.kc,n.__Z31zappar_face_mesh_loaded_versionP19zappar_face_mesh_ti=$.lc,n.__Z25zappar_face_mesh_verticesP19zappar_face_mesh_ti=$.mc,n.__Z20zappar_face_mesh_uvsP19zappar_face_mesh_ti=$.nc,n.__Z24zappar_face_mesh_indicesP19zappar_face_mesh_ti=$.oc,n.__Z23zappar_face_mesh_updateP19zappar_face_mesh_tiPKfS2_i=$.pc,n.__Z29zappar_face_mesh_normals_sizeP19zappar_face_mesh_ti=$.qc,n.__Z24zappar_face_mesh_normalsP19zappar_face_mesh_ti=$.rc,n._zappar_camera_source_create=$.sc,n._zappar_camera_source_destroy=$.tc,n._zappar_camera_source_start=$.uc,n._zappar_camera_source_pause=$.vc,n._zappar_camera_default_device_id=$.wc,n._zappar_sequence_source_create=$.xc,n.__Z28zappar_sequence_source_startP25zappar_sequence_source_ti=$.yc,n.__Z39zappar_sequence_source_load_from_memoryP25zappar_sequence_source_tiPKci=$.zc,n.__Z28zappar_sequence_source_pauseP25zappar_sequence_source_ti=$.Ac,n._zappar_sequence_source_destroy=$.Bc,n._zappar_sequence_source_max_playback_fps_set=$.Cc,n._zappar_log_level_set=$.Dc,n._zappar_log_level=$.Ec,n.__Z23zappar_log_redirect_setPFv18zappar_log_level_tPKcE=$.Fc,n._zappar_world_tracker_create=$.Gc,n._zappar_world_tracker_destroy=$.Hc,n._zappar_world_tracker_world_anchor_status=$.Ic,n._zappar_world_tracker_world_anchor_id=$.Jc,n._zappar_world_tracker_plane_anchor_count=$.Kc,n._zappar_world_tracker_plane_anchor_id=$.Lc,n._zappar_world_tracker_plane_anchor_pose_raw=$.Mc,n._zappar_world_tracker_world_anchor_pose_raw=$.Nc,n._zappar_world_tracker_ground_anchor_status=$.Oc,n._zappar_world_tracker_ground_anchor_id=$.Pc,n._zappar_world_tracker_ground_anchor_pose_raw=$.Qc,n._zappar_world_tracker_reset=$.Rc,n._zappar_world_tracker_enabled_set=$.Sc,n._zappar_world_tracker_enabled=$.Tc,n._zappar_world_tracker_scale_mode_set=$.Uc,n._zappar_world_tracker_scale_mode=$.Vc,n._zappar_world_tracker_session_number=$.Wc,n._zappar_world_tracker_quality=$.Xc,n._zappar_world_tracker_tracks_data_enabled=$.Yc,n._zappar_world_tracker_projections_data_enabled=$.Zc,n._zappar_world_tracker_tracks_data_enabled_set=$._c,n._zappar_world_tracker_projections_data_enabled_set=$.$c,n._zappar_world_tracker_tracks_data=$.ad,n._zappar_world_tracker_tracks_data_size=$.bd,n._zappar_world_tracker_tracks_type_data=$.cd,n._zappar_world_tracker_tracks_type_data_size=$.dd,n._zappar_world_tracker_projections_data=$.ed,n._zappar_world_tracker_projections_data_size=$.fd,n._zappar_world_tracker_horizontal_plane_detection_enabled=$.gd,n._zappar_world_tracker_horizontal_plane_detection_enabled_set=$.hd,n._zappar_world_tracker_vertical_plane_detection_enabled=$.id,n._zappar_world_tracker_vertical_plane_detection_enabled_set=$.jd,n._zappar_world_tracker_vertical_plane_detection_supported=$.kd,n._zappar_world_tracker_plane_anchor_orientation=$.ld,n._zappar_world_tracker_plane_anchor_polygon_data=$.md,n._zappar_world_tracker_plane_anchor_polygon_data_size=$.nd,n._zappar_world_tracker_plane_anchor_polygon_version=$.od,n._zappar_world_tracker_plane_anchor_status=$.pd,n._worker_message_send_count=$.qd,n._worker_message_send_clear=$.rd,n._worker_message_send_data_size=$.sd,n._worker_message_send_reference=$.td,n._worker_message_send_instance=$.ud,n._worker_message_send_data=$.vd,n._worker_message_receive=$.wd,n._ceres_worker=$.xd,n._data_download_clear=$.yd,n._data_download_size=$.zd,n._data_download=$.Ad,n._data_should_record_set=$.Bd,n._zappar_analytics_project_id_set=$.Cd,$.htons,$.ntohs;var An=$.Dd,jn=$.Ed,Mn=$.Fd,Nn=$.Gd;n.___start_em_js=673236,n.___stop_em_js=674401,n.cwrap=xn,n.setValue=De,n.getValue=Te,n.UTF8ToString=U;var Pn;j=function e(){Pn||Fn(),Pn||(j=e)};function Fn(){if(A>0||(ae(),A>0))return;function e(){Pn||(Pn=!0,n.calledRun=!0,!y&&(oe(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),se()))}n.setStatus?(n.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){n.setStatus(``)},1),e()},1)):e()}if(n.preInit)for(typeof n.preInit==`function`&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Fn(),t})})(),n=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};let r=self,i=e=>{e&&e.data&&e.data.t===`wasm`&&(a(location.href.startsWith(`blob`)?e.data.url:new URL(`/assets/zappar-cv-Ca4h5Ys_.wasm`,``+self.location.href).toString(),e.data.module,e.data.port,e.data.instance),r.removeEventListener(`message`,i))};r.addEventListener(`message`,i);function a(r,i,a,o){return n(this,void 0,void 0,function*(){let n=t({locateFile:(e,t)=>e.endsWith(`zappar-cv.wasm`)?r:t+e,instantiateWasm:(e,t)=>{let n=new WebAssembly.Instance(i,e);return t(n),n.exports},onRuntimeInitialized:()=>{let t=n.cwrap(`ceres_worker`,null,[`number`]),r=e(n);a.addEventListener(`message`,e=>{if(e.data.t!==`msgsend`)return;let i=e.data.data,s=e.data.reference,c=n._malloc(i.byteLength);n.HEAPU8.set(i,c),r.worker_message_receive(s,i.byteLength,c,o),n._free(c),t(o);let l=r.worker_message_send_count();for(let e=0;e<l;e++){let t=r.worker_message_send_reference(e),i=r.worker_message_send_data_size(e),o=r.worker_message_send_data(e),s=n.HEAPU8.slice(o,o+i);a.postMessage({t:`msgrec`,data:s,reference:t},[s.buffer])}r.worker_message_send_clear()}),a.start()}})})}})();